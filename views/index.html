<!DOCTYPE html>
<html>
    <head>
        <title>Alteria</title>
        <script src="app.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
        <!--Font Family-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Micro+5&display=swap" rel="stylesheet">
    </head>

    <body id="main" style="background-color: rgb(255, 230, 203);">
        <div class="container">
            <div class="row" style="background-color: rgb(38, 49, 49, 0.7); text-align: center;">
                <div class="col-md-12"><img src="https://img.hotimg.com/alteria.png" style="width: 300px;"></div>
                <div class="col-md-12" style="display: flex; flex-direction: row-reverse;">
                    <button onclick="getLoginPage('login')">Login</button>
                    <button onclick="getLoginPage('signUp')">Sign Up</button>
                    <button onclick="alterAInimbus()">AlterAInimbus</button>
                </div>
            </div>
        </div>

        <div class="container" style="background-color: rgb(38, 49, 49, 0.7); margin-top: 90px; text-align: center; color: rgb(255, 255, 255); font-family: 'Micro 5', sans-serif;">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="lead">Alteria is an online room-based chat where you can talk with random strangers and find people that you share interests with</h1>
                    <h1 class="lead">Have you already been here?</h1>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-xl-2 g-2" style="margin-top: 30px;">
                <div><button type="button" class="btn btn-primary btn-lg" style="width: 75%;" onclick="connectRandomStranger('{{id}}')">Connect to a Random Stranger</button></div>
                <div><button type="button" class="btn btn-primary btn-lg" style="width: 75%;" onclick="connectToRooms('{{id}}')">Connect to Rooms</button></div>
            </div>
            <div class="row" style="margin-top: 30px;">
                <div class="col-md-12">
                    <h1 class="lead">= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =</h1>
                    <h1>USE INSTRUCTIONS</h1> 
                    <h1 class="lead">= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =</h1>
                    <h1 class="lead" style="margin-top: 30px;">• Select "Connect to a Random Stranger" if you want to talk with only one person. Once you clicked this option, you will be connected to a random stranger. If you want to find people with particular interests, you may add them to your interests list.</h1>
                    <h1 class="lead" style="margin-top: 30px;">• Select "Connect to Rooms" if you want to join a chat with many people. You will initially be connected to a global chat but if you want to find a group of people that share interests with each other, you may join their same room.</h1>
                </div>
            </div>
        </div>
    </body>

    <!--
    <body id="main">
        <div id="textWindow" style="width: 100%; height: 512px; border-color: black; border-style: double;"></div>
        
        <input type="text" id="message" style="margin-top: 32px; width: 90%;">
        <button id="buttonSendMessage" type="submit" onclick="sendMessage('{{id}}')">Send</button>
        <button id="buttonConnect2Random" type="submit" onclick="connect2Random()" style="margin-top: 30px;">Connect to a random stranger</button>
        <input type="text" id="common-interests" style="width: 30%;" placeholder="Add common interests">
        <span id="messageJoinRoom"></span>

        <div>
            <input type="text" id="joinRoom" style="margin-top: 32px; width: 30%;">
            <button id="buttonJoinRoom" type="submit" onclick="joinRoom()">Join Room</button>
        </div>
    </body>
    -->

    <script>
        const socket = io();
        newConnection()
        //addInterestToList()
    </script>
    
    <script type="module">
        import { CreateMLCEngine } from "https://esm.run/@mlc-ai/web-llm" 
        const SELECTED_MODEL = "gemma-2b-it-q4f32_1-MLC"
        const engine = await CreateMLCEngine(
            SELECTED_MODEL,
            {
                initProgressCallback: (info) => {
                    console.log('initProgressCallback', info)
                }
            }
        )
        askAI(engine)
      </script>

</html>